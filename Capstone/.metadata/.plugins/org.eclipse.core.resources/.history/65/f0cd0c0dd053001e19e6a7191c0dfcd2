package com.example.demo.security.service;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.ObjectProvider;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Service;

import com.example.demo.security.entity.Pc;
import com.example.demo.security.entity.Sala;
import com.example.demo.security.repository.PcRepo;
import com.example.demo.security.repository.SalaRepo;

@Service
public class SalaService {
	private Logger log = (Logger) LoggerFactory.getLogger(PcService.class);
	
	@Autowired SalaRepo repo;

    @Autowired @Qualifier("salaBean") private ObjectProvider<Sala> provider;
    
    public Sala addSala( String nome, String descrizione , boolean disponibile){
    	Sala s = provider.getObject().builder()
                             .nome(nome)
                             .descrizione(descrizione)
                             .disponibile(disponibile)
                             .build();

     repo.save(s);
     System.out.println();
     log.info("Sala aggiunta al Database");
     

return s;
}

}
